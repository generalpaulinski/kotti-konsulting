<html lang="en">
<head>
	<title>Kotti Konsulting</title>
	<meta charset="utf-8">
	<meta name="viewport"
		  content="width=device-width, user-scalable=no, minimum-scale=1.0, maximum-scale=1.0">
	<link type="text/css" rel="stylesheet" href="examples/main.css">
	<link rel="icon" href="examples/img/icon.png">
	<style>
		body {
			color: #333;
		}
	</style>
	<link rel="icon" type="image/x-icon" href="examples/img/favicon.ico">
</head>
<body>
<div id="logo_kotti"><img id="logo" src="examples/img/logo.png"/></div>
<div id="insta_link"><a href="https://www.linkedin.com/company/kotti-konsulting/" target="_blank"><img id="insta_image" src="examples/img/LinkedIn_icon.png"/></a></div>
<div id="container"></div>
<script src="examples/libs/ammo.wasm.js"></script>

<!-- Import maps polyfill -->
<!-- Remove this when import maps will be widely supported -->
<script async
		src="https://unpkg.com/es-module-shims@1.6.3/dist/es-module-shims.js"></script>

<script type="importmap">
    {
      "imports": {
        "three": "../build/three.module.js",
        "three/addons/": "./"
      }
    }



</script>

<script type="module">
	import * as THREE from 'three';

	import { GLTFLoader } from 'three/addons/loaders/GLTFLoader.js';
	import { OrbitControls } from 'three/addons/controls/OrbitControls.js';

	let scene, camera, hlight, renderer, directionalLight, light, light2, light3, light4, controls, pigeons;
	let x = 0;
	let up = false;

	function init() {
		scene = new THREE.Scene();
		scene.background = new THREE.Color(0xdddddd);

		camera = new THREE.PerspectiveCamera(65, window.innerWidth/window.innerHeight, 0.5, 2000);

		hlight = new THREE.AmbientLight (0x404040, 1);
		scene.add(hlight);

		//Adding directional lights
		directionalLight = new THREE.DirectionalLight(0xffffff, 1);
		directionalLight.position.set(0,1,0);
		directionalLight.castShadow = true;
		scene.add(directionalLight);

		//Adding Shadow
		light = new THREE.PointLight(0xc4c4c4,1);
		light.position.set(0,300,500);
		scene.add(light);

		camera.position.set( 0, 0, 0 );

		light3 = new THREE.PointLight(0xc4c4c4,1);
		light3.position.set(0,100,-500);
		scene.add(light3);

		light4 = new THREE.PointLight(0xc4c4c4,10);
		light4.position.set(-500,300,0);
		scene.add(light4);

		renderer = new THREE.WebGLRenderer({antialias:true});
		renderer.setSize(window.innerWidth, window.innerHeight);
		document.body.appendChild(renderer.domElement);

		controls = new OrbitControls(camera, renderer.domElement);
		controls.addEventListener('change', render);

		let loader = new GLTFLoader();
		loader.load('models/pigeons/scene.gltf', function(gltf){
			console.log(gltf.scene);
			gltf.scene.rotation.y += 90
			gltf.scene.position.set(0.5,0,-1.5);
			gltf.scene.scale.set(35, 35, 35);
			pigeons = gltf.scene.children[0];
			scene.add(gltf.scene);
			animate();
		});
	}
	function animate(){
		renderer.render(scene,camera);
		//if (pigeons) pigeons.rotation.y -= 0.015;
		if (pigeons && x >= -0.1 && !up) {pigeons.rotation.x -= 0.001; x -= 0.001;}
		if (x < -0.05) up = true;
		if (pigeons && x <= 0.1 && up) {pigeons.rotation.x += 0.001; x += 0.001;}
		if (x > 0.05) up = false;
		requestAnimationFrame(animate);
	}
	function render() {
		renderer.render( scene, camera );
	}
	init();
</script>
<div id="subheadline">We make every client come first.</div>
<a href="mailto:hello@kottikonsulting.com?subject=Please help me, I’m stuck!&body=Hi, I saw you dealing with these things before so maybe you could help me with [insert fun thing to solve here]?
 xoxo" target="_blank" class="button">Contact us</a>
<div id="footer-right">(c) Kotti Konsulting UG (haftungsbeschränkt)</div>
<a id="footer" href="/imprint.html">Imprint</a>
</body>
</html>
